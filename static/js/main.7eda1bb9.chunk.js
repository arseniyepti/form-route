(this["webpackJsonpform-route"]=this["webpackJsonpform-route"]||[]).push([[0],{183:function(e,t,n){e.exports=n(266)},266:function(e,t,n){"use strict";n.r(t);var a=n(5),r=n(0),o=n.n(r),i=n(28),u=n(26),c=n(159),l=n(48),s=n(160),d=n(4),m=n(39),p=n(40),f=n(46),b=n(45),g=n(43),h=n(51),O=n(134),j=n(269),v=(n(112),n(34)),E=n(89),x=n.n(E),y=n(7),w=n(129),S=n(270),L=n(166),T=n.n(L).a.create({baseURL:"https://conduit.productionready.io/api",withCredentials:!0}),I=Object(S.a)("AUTH_STATE_"),U=Object(S.a)("REG_STATE"),z=Object(S.a)("AUTH_UI_STATE"),A=Object(S.a)("STOP_AUTH_BTN_LOADING"),_=Object(S.a)("STOP_REG_BTN_LOADING"),k=n(54),C=k.a().shape({password:k.b().typeError("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445").max(40,"\u041d\u0435 \u0431\u043e\u043b\u0435\u0435 40 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").min(8,"\u041d\u0435 \u043c\u0435\u043d\u0435\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").matches(/^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])/,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0438\u0437 \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0445 \u0431\u0443\u043a\u0432 \u0438 \u0446\u0438\u0444\u0440, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u0443 \u0441\u0442\u0440\u043e\u0447\u043d\u0443\u044e, \u0437\u0430\u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0431\u0443\u043a\u0432\u0443 \u0438 \u0446\u0438\u0444\u0440\u0443").required("\u041f\u043e\u043b\u0435 \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e"),email:k.b().typeError("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445").email("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email \u0430\u0434\u0440\u0435\u0441").required("\u041f\u043e\u043b\u0435 \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e")}),R=k.a().shape({name:k.b().typeError("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445").max(50,"\u041d\u0435 \u0431\u043e\u043b\u0435\u0435 50 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").required("\u041f\u043e\u043b\u0435 \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e"),password:k.b().typeError("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445").max(40,"\u041d\u0435 \u0431\u043e\u043b\u0435\u0435 40 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").min(8,"\u041d\u0435 \u043c\u0435\u043d\u0435\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").matches(/^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])/,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0438\u0437 \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0445 \u0431\u0443\u043a\u0432 \u0438 \u0446\u0438\u0444\u0440, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u0443 \u0441\u0442\u0440\u043e\u0447\u043d\u0443\u044e, \u0437\u0430\u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0431\u0443\u043a\u0432\u0443 \u0438 \u0446\u0438\u0444\u0440\u0443").required("\u041f\u043e\u043b\u0435 \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e"),email:k.b().typeError("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445").email("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email \u0430\u0434\u0440\u0435\u0441").required("\u041f\u043e\u043b\u0435 \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e")}),B=function(e){return e.authorization?o.a.createElement("div",null,"\xa0"):o.a.createElement("div",null,"\u0412\u0432\u0435\u0434\u0435\u043d\u044b \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435")};function N(){var e=Object(a.a)(["\n  display: flex;\n  width: 400px;\n  justify-content: space-between;\n  align-items: center;\n"]);return N=function(){return e},e}function q(){var e=Object(a.a)(["\n  font-size: 25px;\n  color: red;\n  margin-right: auto;\n  margin-left: 2px;\n"]);return q=function(){return e},e}function G(){var e=Object(a.a)(["\n  text-decoration: none;\n  margin-top: 10px;\n"]);return G=function(){return e},e}function D(){var e=Object(a.a)(["\n  display: flex;\n  height: 220px;\n  flex-flow: column;\n  align-items: center;\n  justify-content: space-around;\n"]);return D=function(){return e},e}function F(){var e=Object(a.a)(["\n  width: 300px;\n  display: flex;\n  align-self: center;\n"]);return F=function(){return e},e}function P(){var e=Object(a.a)(["\n  width: 300px;\n  display: flex;\n  align-self: flex-start;\n"]);return P=function(){return e},e}function H(){var e=Object(a.a)(["\n  margin-top: 10px;\n  margin-bottom: 5px;\n  width: 100px;\n"]);return H=function(){return e},e}function V(){var e=Object(a.a)(["\n  padding: 30px;\n  width: 500px;\n  background-color: rgba(0, 33, 78, 0.12);\n  border-radius: 10px;\n"]);return V=function(){return e},e}var J={setAuthState:function(e,t){var n=Object.assign({},t);return function(){var t=Object(w.a)(x.a.mark((function t(a){var r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T.post("/users/login",{user:Object(y.a)({},n)});case 3:200===(r=t.sent).status&&(a(I({isLogged:!0,user:r.data.user})),e.push("/form-route/")),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a(z({authorization:!1}));case 10:return t.prev=10,a(A({loading:!1})),t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,7,10,13]])})));return function(e){return t.apply(this,arguments)}}()},AuthBtnLoading:A},X=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.loading,a=t.authorization,r=t.history;return o.a.createElement(v.b,{initialValues:{password:"",email:""},validationSchema:C,onSubmit:function(t,o){var i=t.email,u=t.password,c=o.resetForm,l=e.props,s=l.setAuthState;(0,l.AuthBtnLoading)({loading:!0}),s(r,{email:i,password:u}),a&&n&&c()}},(function(e){var t=e.values,r=e.errors,i=e.touched,u=e.handleChange,c=e.setFieldTouched,l=e.handleSubmit;return o.a.createElement(K,null,o.a.createElement(Y,{onSubmit:l},o.a.createElement(te,null,"Email",o.a.createElement(ee,null,"*"),o.a.createElement(v.a,{onChange:function(e){c("email"),u(e)},value:t.email,name:"email",id:"email",type:"email",component:Q})),i.email&&r.email||o.a.createElement("div",null,"\xa0"),o.a.createElement(te,null,"\u041f\u0430\u0440\u043e\u043b\u044c",o.a.createElement(ee,null,"*"),o.a.createElement(v.a,{onChange:function(e){c("password"),u(e)},value:t.password,name:"password",visibilityToggle:!0,id:"password",type:"password",component:W})),i.password&&r.password||o.a.createElement("div",null,"\xa0"),o.a.createElement(M,{loading:n,htmlType:"submit"},"\u0412\u043e\u0439\u0442\u0438"),o.a.createElement(B,{authorization:a}),o.a.createElement($,{to:"/form-route/signup"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")))}))}}]),n}(o.a.Component),Z=Object(u.b)((function(e){var t=e.authState;return{isLogged:t.isLogged,loading:t.UIState.loading,authorization:t.UIState.authorization}}),J)(X),K=d.default.section(V()),M=Object(d.default)(O.a)(H()),Q=Object(d.default)(j.a)(P()),W=Object(d.default)(j.a.Password)(F()),Y=d.default.form(D()),$=Object(d.default)(g.b)(G()),ee=d.default.span(q()),te=d.default.label(N());function ne(){var e=Object(a.a)(["\n  text-decoration: none;\n  position: absolute;\n  top: 20px;\n  right: 40px;\n"]);return ne=function(){return e},e}function ae(){var e=Object(a.a)(["\n  text-transform: uppercase;\n  color: rgba(0, 13, 34, 0.72);\n"]);return ae=function(){return e},e}function re(){var e=Object(a.a)(["\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: center;\n  align-items: center;\n"]);return re=function(){return e},e}var oe={setAuthorizationSuccess:I},ie=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleLogOut=function(){(0,e.props.setAuthorizationSuccess)({isLogged:!1})},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this.props,t=e.isLogged,n=e.user;return!1===t?o.a.createElement(h.a,{to:"/form-route/login"}):o.a.createElement(ce,null,o.a.createElement(le,null," \u041f\u0440\u0438\u0432\u0435\u0442 ".concat(n)),o.a.createElement(se,{onClick:this.handleLogOut,to:"/form-route/login"},"\u0412\u044b\u0445\u043e\u0434"))}}]),n}(r.Component),ue=Object(u.b)((function(e){var t=e.authState;return{isLogged:t.isLogged,user:t.user?t.user.username:null}}),oe)(ie),ce=d.default.section(re()),le=d.default.h2(ae()),se=Object(d.default)(g.b)(ne()),de=function(e){var t=e.registration;return void 0===t?o.a.createElement("div",null,"\xa0"):t?o.a.createElement("div",null,'\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0448\u043b\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e, \u043d\u0430\u0436\u043c\u0438\u0442\u0435 "\u0412\u043e\u0439\u0442\u0438"'):o.a.createElement("div",null,"\u0414\u0430\u043d\u043d\u044b\u0439 email \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442")};function me(){var e=Object(a.a)(["\n  display: flex;\n  width: 400px;\n  justify-content: space-between;\n  align-items: center;\n"]);return me=function(){return e},e}function pe(){var e=Object(a.a)(["\n  font-size: 25px;\n  color: red;\n  margin-right: auto;\n  margin-left: 2px;\n"]);return pe=function(){return e},e}function fe(){var e=Object(a.a)(["\n  text-decoration: none;\n  margin-top: 10px;\n"]);return fe=function(){return e},e}function be(){var e=Object(a.a)(["\n  display: flex;\n  height: 300px;\n  flex-flow: column;\n  align-items: center;\n  justify-content: space-around;\n"]);return be=function(){return e},e}function ge(){var e=Object(a.a)(["\n  width: 300px;\n  display: flex;\n  align-self: center;\n"]);return ge=function(){return e},e}function he(){var e=Object(a.a)(["\n  width: 300px;\n  display: flex;\n  align-self: flex-start;\n"]);return he=function(){return e},e}function Oe(){var e=Object(a.a)(["\n  margin-top: 10px;\n  margin-bottom: 5px;\n"]);return Oe=function(){return e},e}function je(){var e=Object(a.a)(["\n  padding: 30px;\n  width: 500px;\n  background-color: rgba(0, 33, 78, 0.12);\n  border-radius: 10px;\n"]);return je=function(){return e},e}var ve,Ee,xe={setRegState:function(e,t,n){return function(){var a=Object(w.a)(x.a.mark((function a(r){return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,T.post("/users",{user:{username:e,email:t,password:n}});case 3:200===a.sent.status&&r(U({registration:!0})),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),r(U({registration:!1}));case 10:return a.prev=10,r(_({loading:!1})),a.finish(10);case 13:case"end":return a.stop()}}),a,null,[[0,7,10,13]])})));return function(e){return a.apply(this,arguments)}}()},RegBtnLoading:_},ye=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.registration,a=t.loading;return o.a.createElement(v.b,{initialValues:{password:"",email:"",name:""},validationSchema:R,onSubmit:function(t,a){var r=t.name,o=t.email,i=t.password,u=a.resetForm,c=e.props,l=c.setRegState;(0,c.RegBtnLoading)({loading:!0}),l(r,o,i),n&&u()}},(function(e){var t=e.values,r=e.errors,i=e.touched,u=e.handleChange,c=e.setFieldTouched,l=e.handleSubmit;return o.a.createElement(Se,null,o.a.createElement(Ue,{onSubmit:l},o.a.createElement(_e,null,"\u0418\u043c\u044f",o.a.createElement(Ae,null,"*"),o.a.createElement(v.a,{onChange:function(e){c("name"),u(e)},value:t.name,name:"name",id:"name",type:"text",component:Te})),i.name&&r.name||o.a.createElement("div",null,"\xa0"),o.a.createElement(_e,null,"Email",o.a.createElement(Ae,null,"*"),o.a.createElement(v.a,{onChange:function(e){c("email"),u(e)},value:t.email,name:"email",id:"email",type:"email",component:Te})),i.email&&r.email||o.a.createElement("div",null,"\xa0"),o.a.createElement(_e,null,"\u041f\u0430\u0440\u043e\u043b\u044c",o.a.createElement(Ae,null,"*"),o.a.createElement(v.a,{onChange:function(e){c("password"),u(e)},value:t.password,name:"password",visibilityToggle:!0,id:"password",type:"password",component:Ie})),i.password&&r.password||o.a.createElement("div",null,"\xa0"),o.a.createElement(Le,{loading:a,htmlType:"submit"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),o.a.createElement(de,{registration:n}),o.a.createElement(ze,{to:"/form-route/login"},"\u0412\u043e\u0439\u0442\u0438")))}))}}]),n}(o.a.Component),we=Object(u.b)((function(e){var t=e.regState;return{registration:t.UIState.registration,loading:t.UIState.loading}}),xe)(ye),Se=d.default.section(je()),Le=Object(d.default)(O.a)(Oe()),Te=Object(d.default)(j.a)(he()),Ie=Object(d.default)(j.a.Password)(ge()),Ue=d.default.form(be()),ze=Object(d.default)(g.b)(fe()),Ae=d.default.span(pe()),_e=d.default.label(me()),ke=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this.props,t=e.isLogged,n=e.history;return o.a.createElement(g.a,null,o.a.createElement(h.d,null,o.a.createElement(h.b,{history:n,exact:!0,path:"/form-route/",isLogged:t,component:ue}),o.a.createElement(h.b,{history:n,exact:!0,path:"/form-route/login",isLogged:t,component:Z}),o.a.createElement(h.b,{history:n,exact:!0,path:"/form-route/signup",isLogged:t,component:we})))}}]),n}(o.a.Component),Ce=Object(u.b)((function(e){return{isLogged:e.authState.isLogged}}))(ke),Re=n(52),Be=n(267),Ne=Object(Be.a)((ve={},Object(Re.a)(ve,I,(function(e,t){var n=t.payload,a=n.isLogged,r=n.user;return Object(y.a)(Object(y.a)({},e),{},{isLogged:a,user:r})})),Object(Re.a)(ve,z,(function(e,t){var n=t.payload.authorization;return Object(y.a)(Object(y.a)({},e),{},{UIState:Object(y.a)(Object(y.a)({},e.UIState),{},{authorization:n})})})),Object(Re.a)(ve,A,(function(e,t){var n=t.payload.loading;return Object(y.a)(Object(y.a)({},e),{},{UIState:Object(y.a)(Object(y.a)({},e.UIState),{},{loading:n})})})),ve),{isLogged:!1,UIState:{loading:!1,authorization:!0}}),qe=Object(Be.a)((Ee={},Object(Re.a)(Ee,U,(function(e,t){var n=t.payload.registration;return Object(y.a)(Object(y.a)({},e),{},{UIState:Object(y.a)(Object(y.a)({},e.UIState),{},{registration:n})})})),Object(Re.a)(Ee,_,(function(e,t){var n=t.payload.loading;return Object(y.a)(Object(y.a)({},e),{},{UIState:Object(y.a)(Object(y.a)({},e.UIState),{},{loading:n})})})),Ee),{UIState:{loading:!1,registration:void 0}}),Ge=Object(l.c)({authState:Ne,regState:qe});function De(){var e=Object(a.a)(["\n*{\n  box-sizing: border-box;\n}\n  body {\n    padding: 100px;\n    background-color: rgba(88,154,255,0.41);\n    font-family: 'Impact', sans-serif;\n    font-size: 16px;\n    display:flex;\n    justify-content:center;\n  }\n"]);return De=function(){return e},e}var Fe=Object(d.createGlobalStyle)(De()),Pe=window.__REDUX_DEVTOOLS_EXTENSION__,He=Pe&&Pe(),Ve=Object(l.e)(Ge,Object(l.d)(Object(l.a)(c.a),He));Object(i.render)(o.a.createElement(u.a,{store:Ve},o.a.createElement(s.Normalize,null),o.a.createElement(Fe,null),o.a.createElement(Ce,null)),document.getElementById("root"))}},[[183,1,2]]]);
//# sourceMappingURL=main.7eda1bb9.chunk.js.map