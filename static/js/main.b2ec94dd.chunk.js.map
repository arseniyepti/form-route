{"version":3,"sources":["heplers/axiosInstance.js","actions/actions.js","heplers/yupValidation.js","components/AuthMessage.jsx","components/Authorization.jsx","components/Main.jsx","components/RegMessage.jsx","components/Registration.jsx","components/App.js","reducers/reducers.js","index.js"],"names":["axiosInstance","axios","create","baseURL","withCredentials","setAuthorizationSuccess","createAction","setRegistrationSuccess","setAuthUIState","AuthBtnLoading","RegBtnLoading","validationSchemaAuthForm","Yup","shape","password","typeError","max","min","matches","required","email","validationSchemaRegForm","name","AuthMessage","authorization","actionCreators","setAuthState","history","props","dispatch","a","post","user","response","status","isLogged","data","push","loading","actions","Authorization","this","initialValues","validationSchema","onSubmit","resetForm","values","errors","touched","handleChange","setFieldTouched","handleSubmit","Section","StyledForm","Label","SymSpan","onChange","event","value","id","type","component","StyledInput","visibilityToggle","StyledInputPassword","StyledButton","onClick","res","htmlType","StyledLink","to","React","Component","ConnectedAuthorization","connect","state","authState","UIState","styled","section","Button","Input","Password","form","Link","span","label","Main","handleLogOut","Wrapper","Name","ConnectedMain","username","h2","RegMessage","registration","undefined","setRegState","Registration","ConnectedRegistration","regState","App","exact","path","connectApp","handleActions","payload","combineReducers","GlobalStyle","createGlobalStyle","ext","window","__REDUX_DEVTOOLS_EXTENSION__","devtoolMiddleware","store","createStore","reducers","compose","applyMiddleware","thunk","render","document","getElementById"],"mappings":"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","file":"static/js/main.b2ec94dd.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst axiosInstance = axios.create({\n  baseURL: \"https://conduit.productionready.io/api\",\n  withCredentials: true,\n});\nexport default axiosInstance;\n","import { createAction } from \"redux-actions\";\nimport axiosInstance from \"../heplers/axiosInstance.js\";\n\nexport const setAuthorizationSuccess = createAction(\"AUTH_STATE_\");\nexport const setRegistrationSuccess = createAction(\"REG_STATE\");\nexport const setAuthUIState = createAction(\"AUTH_UI_STATE\");\nexport const AuthBtnLoading = createAction(\"STOP_AUTH_BTN_LOADING\");\nexport const RegBtnLoading = createAction(\"STOP_REG_BTN_LOADING\");\n\nexport const setAuthState = (history, { ...props }) => async (dispatch) => {\n  try {\n    const response = await axiosInstance.post(\"/users/login\", {\n      user: { ...props },\n    });\n    if (response.status === 200) {\n      dispatch(\n        setAuthorizationSuccess({\n          isLogged: true,\n          user: response.data.user,\n        })\n      );\n      history.push(\"/\");\n    }\n  } catch (error) {\n    dispatch(\n      setAuthUIState({\n        authorization: false,\n      })\n    );\n  } finally {\n    dispatch(\n      AuthBtnLoading({\n        loading: false,\n      })\n    );\n  }\n};\n\nexport const setRegState = (name, email, password) => async (dispatch) => {\n  try {\n    const response = await axiosInstance.post(\"/users\", {\n      user: {\n        username: name,\n        email,\n        password,\n      },\n    });\n    if (response.status === 200) {\n      dispatch(\n        setRegistrationSuccess({\n          registration: true,\n        })\n      );\n    }\n  } catch (error) {\n    dispatch(\n      setRegistrationSuccess({\n        registration: false,\n      })\n    );\n  } finally {\n    dispatch(\n      RegBtnLoading({\n        loading: false,\n      })\n    );\n  }\n};\n","import * as Yup from \"yup\";\n\nconst validationSchemaAuthForm = Yup.object().shape({\n  password: Yup.string()\n    .typeError(\"Неверный формат введенных данных\")\n    .max(40, \"Не более 40 символов\")\n    .min(8, \"Не менее 8 символов\")\n    .matches(\n      /^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])/,\n      \"Пароль должен состоять из латинских букв и цифр, а также содержать хотя бы одну строчную, заглавную букву и цифру\"\n    )\n    .required(\"Поле не заполнено\"),\n  email: Yup.string()\n    .typeError(\"Неверный формат введенных данных\")\n    .email(\"Некорректный email адрес\")\n    .required(\"Поле не заполнено\"),\n});\n\nconst validationSchemaRegForm = Yup.object().shape({\n  name: Yup.string()\n    .typeError(\"Неверный формат введенных данных\")\n    .max(50, \"Не более 50 символов\")\n    .required(\"Поле не заполнено\"),\n  password: Yup.string()\n    .typeError(\"Неверный формат введенных данных\")\n    .max(40, \"Не более 40 символов\")\n    .min(8, \"Не менее 8 символов\")\n    .matches(\n      /^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])/,\n      \"Пароль должен состоять из латинских букв и цифр, а также содержать хотя бы одну строчную, заглавную букву и цифру\"\n    )\n    .required(\"Поле не заполнено\"),\n  email: Yup.string()\n    .typeError(\"Неверный формат введенных данных\")\n    .email(\"Некорректный email адрес\")\n    .required(\"Поле не заполнено\"),\n});\n\nexport { validationSchemaRegForm, validationSchemaAuthForm };\n","import React from \"react\";\n\nconst AuthMessage = ({ authorization }) => {\n  return authorization ? <div>&nbsp;</div> : <div>Введены неверные данные</div>;\n};\n\nexport default AuthMessage;\n","import { Button, Input } from \"antd\";\nimport \"antd/dist/antd.css\";\nimport { Field, Formik } from \"formik\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport * as actions from \"../actions/actions\";\nimport { validationSchemaAuthForm } from \"../heplers/yupValidation.js\";\nimport AuthMessage from \"./AuthMessage\";\n\nconst mapStateToProps = (state) => {\n  const { authState } = state;\n  return {\n    isLogged: authState.isLogged,\n    loading: authState.UIState.loading,\n    authorization: authState.UIState.authorization,\n  };\n};\n\nconst actionCreators = {\n  setAuthState: actions.setAuthState,\n  AuthBtnLoading: actions.AuthBtnLoading,\n};\n\nclass Authorization extends React.Component {\n  render() {\n    const { loading, authorization, history } = this.props;\n    return (\n      <Formik\n        initialValues={{\n          password: \"\",\n          email: \"\",\n        }}\n        validationSchema={validationSchemaAuthForm}\n        onSubmit={({ email, password }, { resetForm }) => {\n          const { setAuthState, AuthBtnLoading } = this.props;\n          AuthBtnLoading({ loading: true });\n          setAuthState(history, { email, password });\n          if (authorization && loading) {\n            resetForm();\n          }\n        }}\n      >\n        {({\n          values,\n          errors,\n          touched,\n          handleChange,\n          setFieldTouched,\n          handleSubmit,\n        }) => (\n          <Section>\n            <StyledForm onSubmit={handleSubmit}>\n              <Label>\n                Email<SymSpan>*</SymSpan>\n                <Field\n                  onChange={(event) => {\n                    setFieldTouched(\"email\");\n                    handleChange(event);\n                  }}\n                  value={values.email}\n                  name=\"email\"\n                  id=\"email\"\n                  type=\"email\"\n                  component={StyledInput}\n                />\n              </Label>\n              {(touched.email && errors.email) || <div>&nbsp;</div>}\n              <Label>\n                Пароль<SymSpan>*</SymSpan>\n                <Field\n                  onChange={(event) => {\n                    setFieldTouched(\"password\");\n                    handleChange(event);\n                  }}\n                  value={values.password}\n                  name=\"password\"\n                  visibilityToggle\n                  id=\"password\"\n                  type=\"password\"\n                  component={StyledInputPassword}\n                />\n              </Label>\n              {(touched.password && errors.password) || <div>&nbsp;</div>}\n              <StyledButton\n                loading={loading}\n                onClick={this.res}\n                htmlType=\"submit\"\n              >\n                Войти\n              </StyledButton>\n              <AuthMessage authorization={authorization} />\n              <StyledLink to=\"/signup\">Регистрация</StyledLink>\n            </StyledForm>\n          </Section>\n        )}\n      </Formik>\n    );\n  }\n}\n\nconst ConnectedAuthorization = connect(\n  mapStateToProps,\n  actionCreators\n)(Authorization);\n\nexport default ConnectedAuthorization;\n\nconst Section = styled.section`\n  padding: 30px;\n  width: 500px;\n  background-color: rgba(0, 33, 78, 0.12);\n  border-radius: 10px;\n`;\n\nconst StyledButton = styled(Button)`\n  margin-top: 10px;\n  margin-bottom: 5px;\n  width: 100px;\n`;\n\nconst StyledInput = styled(Input)`\n  width: 300px;\n  display: flex;\n  align-self: flex-start;\n`;\n\nconst StyledInputPassword = styled(Input.Password)`\n  width: 300px;\n  display: flex;\n  align-self: center;\n`;\n\nconst StyledForm = styled.form`\n  display: flex;\n  height: 220px;\n  flex-flow: column;\n  align-items: center;\n  justify-content: space-around;\n`;\n\nconst StyledLink = styled(Link)`\n  text-decoration: none;\n  margin-top: 10px;\n`;\n\nconst SymSpan = styled.span`\n  font-size: 25px;\n  color: red;\n  margin-right: auto;\n  margin-left: 2px;\n`;\n\nconst Label = styled.label`\n  display: flex;\n  width: 400px;\n  justify-content: space-between;\n  align-items: center;\n`;\n","import \"antd/dist/antd.css\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport * as actions from \"../actions/actions\";\n\nconst mapStateToProps = (state) => {\n  const { authState } = state;\n  return {\n    isLogged: authState.isLogged,\n    user: authState.user ? authState.user.username : null,\n  };\n};\n\nconst actionCreators = {\n  setAuthorizationSuccess: actions.setAuthorizationSuccess,\n};\n\nclass Main extends Component {\n  handleLogOut = () => {\n    const { setAuthorizationSuccess } = this.props;\n    setAuthorizationSuccess({ isLogged: false });\n  };\n\n  render() {\n    const { isLogged, user } = this.props;\n    if (isLogged === false) {\n      return <Redirect to=\"/login\" />;\n    }\n    return (\n      <Wrapper>\n        <Name>{` Привет ${user}`}</Name>\n        <StyledLink onClick={this.handleLogOut} to=\"/login\">\n          Выход\n        </StyledLink>\n      </Wrapper>\n    );\n  }\n}\n\nconst ConnectedMain = connect(mapStateToProps, actionCreators)(Main);\n\nexport default ConnectedMain;\n\nconst Wrapper = styled.section`\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Name = styled.h2`\n  text-transform: uppercase;\n  color: rgba(0, 13, 34, 0.72);\n`;\n\nconst StyledLink = styled(Link)`\n  text-decoration: none;\n  position: absolute;\n  top: 20px;\n  right: 40px;\n`;\n","import React from \"react\";\n\nconst RegMessage = ({ registration }) => {\n  if (registration === undefined) {\n    return <div>&nbsp;</div>;\n  }\n  return registration ? (\n    <div>Регистрация прошла успешно, нажмите \"Войти\"</div>\n  ) : (\n    <div>Данный email уже существует</div>\n  );\n};\n\nexport default RegMessage;\n","import { Button, Input } from \"antd\";\nimport \"antd/dist/antd.css\";\nimport { Field, Formik } from \"formik\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport * as actions from \"../actions/actions\";\nimport { validationSchemaRegForm } from \"../heplers/yupValidation.js\";\nimport RegMessage from \"./RegMessage.jsx\";\n\nconst mapStateToProps = (state) => {\n  const { regState } = state;\n  return {\n    registration: regState.UIState.registration,\n    loading: regState.UIState.loading,\n  };\n};\n\nconst actionCreators = {\n  setRegState: actions.setRegState,\n  RegBtnLoading: actions.RegBtnLoading,\n};\n\nclass Registration extends React.Component {\n  render() {\n    const { registration, loading } = this.props;\n    return (\n      <Formik\n        initialValues={{\n          password: \"\",\n          email: \"\",\n          name: \"\",\n        }}\n        validationSchema={validationSchemaRegForm}\n        onSubmit={({ name, email, password }, { resetForm }) => {\n          const { setRegState, RegBtnLoading } = this.props;\n          RegBtnLoading({ loading: true });\n          setRegState(name, email, password);\n          if (registration) {\n            resetForm();\n          }\n        }}\n      >\n        {({\n          values,\n          errors,\n          touched,\n          handleChange,\n          setFieldTouched,\n          handleSubmit,\n        }) => (\n          <Section>\n            <StyledForm onSubmit={handleSubmit}>\n              <Label>\n                Имя<SymSpan>*</SymSpan>\n                <Field\n                  onChange={(event) => {\n                    setFieldTouched(\"name\");\n                    handleChange(event);\n                  }}\n                  value={values.name}\n                  name=\"name\"\n                  id=\"name\"\n                  type=\"text\"\n                  component={StyledInput}\n                />\n              </Label>\n              {(touched.name && errors.name) || <div>&nbsp;</div>}\n              <Label>\n                Email<SymSpan>*</SymSpan>\n                <Field\n                  onChange={(event) => {\n                    setFieldTouched(\"email\");\n                    handleChange(event);\n                  }}\n                  value={values.email}\n                  name=\"email\"\n                  id=\"email\"\n                  type=\"email\"\n                  component={StyledInput}\n                />\n              </Label>\n              {(touched.email && errors.email) || <div>&nbsp;</div>}\n              <Label>\n                Пароль<SymSpan>*</SymSpan>\n                <Field\n                  onChange={(event) => {\n                    setFieldTouched(\"password\");\n                    handleChange(event);\n                  }}\n                  value={values.password}\n                  name=\"password\"\n                  visibilityToggle\n                  id=\"password\"\n                  type=\"password\"\n                  component={StyledInputPassword}\n                />\n              </Label>\n              {(touched.password && errors.password) || <div>&nbsp;</div>}\n              <StyledButton loading={loading} htmlType=\"submit\">\n                Регистрация\n              </StyledButton>\n              {<RegMessage registration={registration} />}\n              <StyledLink to=\"/login\">Войти</StyledLink>\n            </StyledForm>\n          </Section>\n        )}\n      </Formik>\n    );\n  }\n}\n\nconst ConnectedRegistration = connect(\n  mapStateToProps,\n  actionCreators\n)(Registration);\n\nexport default ConnectedRegistration;\n\nconst Section = styled.section`\n  padding: 30px;\n  width: 500px;\n  background-color: rgba(0, 33, 78, 0.12);\n  border-radius: 10px;\n`;\n\nconst StyledButton = styled(Button)`\n  margin-top: 10px;\n  margin-bottom: 5px;\n`;\n\nconst StyledInput = styled(Input)`\n  width: 300px;\n  display: flex;\n  align-self: flex-start;\n`;\n\nconst StyledInputPassword = styled(Input.Password)`\n  width: 300px;\n  display: flex;\n  align-self: center;\n`;\n\nconst StyledForm = styled.form`\n  display: flex;\n  height: 300px;\n  flex-flow: column;\n  align-items: center;\n  justify-content: space-around;\n`;\n\nconst StyledLink = styled(Link)`\n  text-decoration: none;\n  margin-top: 10px;\n`;\n\nconst SymSpan = styled.span`\n  font-size: 25px;\n  color: red;\n  margin-right: auto;\n  margin-left: 2px;\n`;\n\nconst Label = styled.label`\n  display: flex;\n  width: 400px;\n  justify-content: space-between;\n  align-items: center;\n`;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Authorization from \"./Authorization\";\nimport Main from \"./Main\";\nimport Registration from \"./Registration\";\n\nconst mapStateToProps = (state) => {\n  const { authState } = state;\n  return {\n    isLogged: authState.isLogged,\n  };\n};\n\nclass App extends React.Component {\n  render() {\n    const { isLogged, history } = this.props;\n    return (\n      <Router>\n        <Switch>\n          <Route\n            history={history}\n            exact\n            path=\"/\"\n            isLogged={isLogged}\n            component={Main}\n          />\n          <Route\n            history={history}\n            exact\n            path=\"/login\"\n            isLogged={isLogged}\n            component={Authorization}\n          />\n          <Route\n            history={history}\n            exact\n            path=\"/signup\"\n            isLogged={isLogged}\n            component={Registration}\n          />\n        </Switch>\n      </Router>\n    );\n  }\n}\n\nconst connectApp = connect(mapStateToProps)(App);\n\nexport default connectApp;\n","import { combineReducers } from \"redux\";\nimport { handleActions } from \"redux-actions\";\nimport * as actions from \"../actions/actions\";\n\nconst authState = handleActions(\n  {\n    [actions.setAuthorizationSuccess]: (\n      state,\n      { payload: { isLogged, user } }\n    ) => {\n      return { ...state, isLogged, user };\n    },\n    [actions.setAuthUIState]: (state, { payload: { authorization } }) => {\n      return { ...state, UIState: { ...state.UIState, authorization } };\n    },\n    [actions.AuthBtnLoading]: (state, { payload: { loading } }) => {\n      return { ...state, UIState: { ...state.UIState, loading } };\n    },\n  },\n  {\n    isLogged: false,\n    UIState: {\n      loading: false,\n      authorization: true,\n    },\n  }\n);\n\nconst regState = handleActions(\n  {\n    [actions.setRegistrationSuccess]: (\n      state,\n      { payload: { registration } }\n    ) => {\n      return { ...state, UIState: { ...state.UIState, registration } };\n    },\n    [actions.RegBtnLoading]: (state, { payload: { loading } }) => {\n      return { ...state, UIState: { ...state.UIState, loading } };\n    },\n  },\n  {\n    UIState: {\n      loading: false,\n      registration: undefined,\n    },\n  }\n);\n\nexport default combineReducers({\n  authState,\n  regState,\n});\n","import React from \"react\";\nimport { render } from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport thunk from \"redux-thunk\";\nimport { createStore, applyMiddleware, compose } from \"redux\";\nimport { Normalize } from \"styled-normalize\";\nimport { createGlobalStyle } from \"styled-components\";\nimport App from \"./components/App\";\nimport reducers from \"./reducers/reducers\";\n\nconst GlobalStyle = createGlobalStyle`\n*{\n  box-sizing: border-box;\n}\n  body {\n    padding: 100px;\n    background-color: rgba(88,154,255,0.41);\n    font-family: 'Impact', sans-serif;\n    font-size: 16px;\n    display:flex;\n    justify-content:center;\n  }\n`;\n\nconst ext = window.__REDUX_DEVTOOLS_EXTENSION__;\nconst devtoolMiddleware = ext && ext();\n\nconst store = createStore(\n  reducers,\n  compose(applyMiddleware(thunk), devtoolMiddleware)\n);\n\nrender(\n  <Provider store={store}>\n    <Normalize />\n    <GlobalStyle />\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}