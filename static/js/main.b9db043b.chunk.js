(this["webpackJsonpform-route"]=this["webpackJsonpform-route"]||[]).push([[0],{183:function(e,t,n){e.exports=n(266)},266:function(e,t,n){"use strict";n.r(t);var a=n(5),r=n(0),o=n.n(r),i=n(28),u=n.n(i),c=n(26),l=n(159),s=n(48),d=n(160),m=n(4),p=n(39),f=n(40),b=n(46),g=n(45),h=n(43),O=n(51),j=n(134),v=n(269),E=(n(112),n(34)),x=n(89),y=n.n(x),w=n(7),S=n(129),L=n(270),T=n(166),U=n.n(T).a.create({baseURL:"https://conduit.productionready.io/api",withCredentials:!0}),I=Object(L.a)("AUTH_STATE_"),z=Object(L.a)("REG_STATE"),A=Object(L.a)("AUTH_UI_STATE"),_=Object(L.a)("STOP_AUTH_BTN_LOADING"),k=Object(L.a)("STOP_REG_BTN_LOADING"),C=n(54),R=C.a().shape({password:C.b().typeError("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445").max(40,"\u041d\u0435 \u0431\u043e\u043b\u0435\u0435 40 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").min(8,"\u041d\u0435 \u043c\u0435\u043d\u0435\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").matches(/^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])/,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0438\u0437 \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0445 \u0431\u0443\u043a\u0432 \u0438 \u0446\u0438\u0444\u0440, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u0443 \u0441\u0442\u0440\u043e\u0447\u043d\u0443\u044e, \u0437\u0430\u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0431\u0443\u043a\u0432\u0443 \u0438 \u0446\u0438\u0444\u0440\u0443").required("\u041f\u043e\u043b\u0435 \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e"),email:C.b().typeError("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445").email("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email \u0430\u0434\u0440\u0435\u0441").required("\u041f\u043e\u043b\u0435 \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e")}),B=C.a().shape({name:C.b().typeError("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445").max(50,"\u041d\u0435 \u0431\u043e\u043b\u0435\u0435 50 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").required("\u041f\u043e\u043b\u0435 \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e"),password:C.b().typeError("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445").max(40,"\u041d\u0435 \u0431\u043e\u043b\u0435\u0435 40 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").min(8,"\u041d\u0435 \u043c\u0435\u043d\u0435\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").matches(/^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])/,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0438\u0437 \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0445 \u0431\u0443\u043a\u0432 \u0438 \u0446\u0438\u0444\u0440, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u0443 \u0441\u0442\u0440\u043e\u0447\u043d\u0443\u044e, \u0437\u0430\u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0431\u0443\u043a\u0432\u0443 \u0438 \u0446\u0438\u0444\u0440\u0443").required("\u041f\u043e\u043b\u0435 \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e"),email:C.b().typeError("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445").email("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email \u0430\u0434\u0440\u0435\u0441").required("\u041f\u043e\u043b\u0435 \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e")}),N=function(e){return e.authorization?o.a.createElement("div",null,"\xa0"):o.a.createElement("div",null,"\u0412\u0432\u0435\u0434\u0435\u043d\u044b \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435")};function q(){var e=Object(a.a)(["\n  display: flex;\n  width: 400px;\n  justify-content: space-between;\n  align-items: center;\n"]);return q=function(){return e},e}function G(){var e=Object(a.a)(["\n  font-size: 25px;\n  color: red;\n  margin-right: auto;\n  margin-left: 2px;\n"]);return G=function(){return e},e}function D(){var e=Object(a.a)(["\n  text-decoration: none;\n  margin-top: 10px;\n"]);return D=function(){return e},e}function F(){var e=Object(a.a)(["\n  display: flex;\n  height: 220px;\n  flex-flow: column;\n  align-items: center;\n  justify-content: space-around;\n"]);return F=function(){return e},e}function P(){var e=Object(a.a)(["\n  width: 300px;\n  display: flex;\n  align-self: center;\n"]);return P=function(){return e},e}function H(){var e=Object(a.a)(["\n  width: 300px;\n  display: flex;\n  align-self: flex-start;\n"]);return H=function(){return e},e}function V(){var e=Object(a.a)(["\n  margin-top: 10px;\n  margin-bottom: 5px;\n  width: 100px;\n"]);return V=function(){return e},e}function J(){var e=Object(a.a)(["\n  padding: 30px;\n  width: 500px;\n  background-color: rgba(0, 33, 78, 0.12);\n  border-radius: 10px;\n"]);return J=function(){return e},e}var X={setAuthState:function(e,t){var n=Object.assign({},t);return function(){var t=Object(S.a)(y.a.mark((function t(a){var r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.post("/users/login",{user:Object(w.a)({},n)});case 3:200===(r=t.sent).status&&(a(I({isLogged:!0,user:r.data.user})),e.push("/form-route/")),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a(A({authorization:!1}));case 10:return t.prev=10,a(_({loading:!1})),t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,7,10,13]])})));return function(e){return t.apply(this,arguments)}}()},AuthBtnLoading:_},Z=function(e){Object(b.a)(n,e);var t=Object(g.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.loading,a=t.authorization,r=t.history;return o.a.createElement(E.b,{initialValues:{password:"",email:""},validationSchema:R,onSubmit:function(t,o){var i=t.email,u=t.password,c=o.resetForm,l=e.props,s=l.setAuthState;(0,l.AuthBtnLoading)({loading:!0}),s(r,{email:i,password:u}),a&&n&&c()}},(function(e){var t=e.values,r=e.errors,i=e.touched,u=e.handleChange,c=e.setFieldTouched,l=e.handleSubmit;return o.a.createElement(M,null,o.a.createElement($,{onSubmit:l},o.a.createElement(ne,null,"Email",o.a.createElement(te,null,"*"),o.a.createElement(E.a,{onChange:function(e){c("email"),u(e)},value:t.email,name:"email",id:"email",type:"email",component:W})),i.email&&r.email||o.a.createElement("div",null,"\xa0"),o.a.createElement(ne,null,"\u041f\u0430\u0440\u043e\u043b\u044c",o.a.createElement(te,null,"*"),o.a.createElement(E.a,{onChange:function(e){c("password"),u(e)},value:t.password,name:"password",visibilityToggle:!0,id:"password",type:"password",component:Y})),i.password&&r.password||o.a.createElement("div",null,"\xa0"),o.a.createElement(Q,{loading:n,htmlType:"submit"},"\u0412\u043e\u0439\u0442\u0438"),o.a.createElement(N,{authorization:a}),o.a.createElement(ee,{to:"/form-route/signup"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")))}))}}]),n}(o.a.Component),K=Object(c.b)((function(e){var t=e.authState;return{isLogged:t.isLogged,loading:t.UIState.loading,authorization:t.UIState.authorization}}),X)(Z),M=m.default.section(J()),Q=Object(m.default)(j.a)(V()),W=Object(m.default)(v.a)(H()),Y=Object(m.default)(v.a.Password)(P()),$=m.default.form(F()),ee=Object(m.default)(h.b)(D()),te=m.default.span(G()),ne=m.default.label(q());function ae(){var e=Object(a.a)(["\n  text-decoration: none;\n  position: absolute;\n  top: 20px;\n  right: 40px;\n"]);return ae=function(){return e},e}function re(){var e=Object(a.a)(["\n  text-transform: uppercase;\n  color: rgba(0, 13, 34, 0.72);\n"]);return re=function(){return e},e}function oe(){var e=Object(a.a)(["\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: center;\n  align-items: center;\n"]);return oe=function(){return e},e}var ie={setAuthorizationSuccess:I},ue=function(e){Object(b.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleLogOut=function(){(0,e.props.setAuthorizationSuccess)({isLogged:!1})},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props,t=e.isLogged,n=e.user;return!1===t?o.a.createElement(O.a,{to:"/form-route/login"}):o.a.createElement(le,null,o.a.createElement(se,null," \u041f\u0440\u0438\u0432\u0435\u0442 ".concat(n)),o.a.createElement(de,{onClick:this.handleLogOut,to:"/form-route/login"},"\u0412\u044b\u0445\u043e\u0434"))}}]),n}(r.Component),ce=Object(c.b)((function(e){var t=e.authState;return{isLogged:t.isLogged,user:t.user?t.user.username:null}}),ie)(ue),le=m.default.section(oe()),se=m.default.h2(re()),de=Object(m.default)(h.b)(ae()),me=function(e){var t=e.registration;return void 0===t?o.a.createElement("div",null,"\xa0"):t?o.a.createElement("div",null,'\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0448\u043b\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e, \u043d\u0430\u0436\u043c\u0438\u0442\u0435 "\u0412\u043e\u0439\u0442\u0438"'):o.a.createElement("div",null,"\u0414\u0430\u043d\u043d\u044b\u0439 email \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442")};function pe(){var e=Object(a.a)(["\n  display: flex;\n  width: 400px;\n  justify-content: space-between;\n  align-items: center;\n"]);return pe=function(){return e},e}function fe(){var e=Object(a.a)(["\n  font-size: 25px;\n  color: red;\n  margin-right: auto;\n  margin-left: 2px;\n"]);return fe=function(){return e},e}function be(){var e=Object(a.a)(["\n  text-decoration: none;\n  margin-top: 10px;\n"]);return be=function(){return e},e}function ge(){var e=Object(a.a)(["\n  display: flex;\n  height: 300px;\n  flex-flow: column;\n  align-items: center;\n  justify-content: space-around;\n"]);return ge=function(){return e},e}function he(){var e=Object(a.a)(["\n  width: 300px;\n  display: flex;\n  align-self: center;\n"]);return he=function(){return e},e}function Oe(){var e=Object(a.a)(["\n  width: 300px;\n  display: flex;\n  align-self: flex-start;\n"]);return Oe=function(){return e},e}function je(){var e=Object(a.a)(["\n  margin-top: 10px;\n  margin-bottom: 5px;\n"]);return je=function(){return e},e}function ve(){var e=Object(a.a)(["\n  padding: 30px;\n  width: 500px;\n  background-color: rgba(0, 33, 78, 0.12);\n  border-radius: 10px;\n"]);return ve=function(){return e},e}var Ee,xe,ye={setRegState:function(e,t,n){return function(){var a=Object(S.a)(y.a.mark((function a(r){return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,U.post("/users",{user:{username:e,email:t,password:n}});case 3:200===a.sent.status&&r(z({registration:!0})),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),r(z({registration:!1}));case 10:return a.prev=10,r(k({loading:!1})),a.finish(10);case 13:case"end":return a.stop()}}),a,null,[[0,7,10,13]])})));return function(e){return a.apply(this,arguments)}}()},RegBtnLoading:k},we=function(e){Object(b.a)(n,e);var t=Object(g.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.registration,a=t.loading;return o.a.createElement(E.b,{initialValues:{password:"",email:"",name:""},validationSchema:B,onSubmit:function(t,a){var r=t.name,o=t.email,i=t.password,u=a.resetForm,c=e.props,l=c.setRegState;(0,c.RegBtnLoading)({loading:!0}),l(r,o,i),n&&u()}},(function(e){var t=e.values,r=e.errors,i=e.touched,u=e.handleChange,c=e.setFieldTouched,l=e.handleSubmit;return o.a.createElement(Le,null,o.a.createElement(ze,{onSubmit:l},o.a.createElement(ke,null,"\u0418\u043c\u044f",o.a.createElement(_e,null,"*"),o.a.createElement(E.a,{onChange:function(e){c("name"),u(e)},value:t.name,name:"name",id:"name",type:"text",component:Ue})),i.name&&r.name||o.a.createElement("div",null,"\xa0"),o.a.createElement(ke,null,"Email",o.a.createElement(_e,null,"*"),o.a.createElement(E.a,{onChange:function(e){c("email"),u(e)},value:t.email,name:"email",id:"email",type:"email",component:Ue})),i.email&&r.email||o.a.createElement("div",null,"\xa0"),o.a.createElement(ke,null,"\u041f\u0430\u0440\u043e\u043b\u044c",o.a.createElement(_e,null,"*"),o.a.createElement(E.a,{onChange:function(e){c("password"),u(e)},value:t.password,name:"password",visibilityToggle:!0,id:"password",type:"password",component:Ie})),i.password&&r.password||o.a.createElement("div",null,"\xa0"),o.a.createElement(Te,{loading:a,htmlType:"submit"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),o.a.createElement(me,{registration:n}),o.a.createElement(Ae,{to:"/form-route/login"},"\u0412\u043e\u0439\u0442\u0438")))}))}}]),n}(o.a.Component),Se=Object(c.b)((function(e){var t=e.regState;return{registration:t.UIState.registration,loading:t.UIState.loading}}),ye)(we),Le=m.default.section(ve()),Te=Object(m.default)(j.a)(je()),Ue=Object(m.default)(v.a)(Oe()),Ie=Object(m.default)(v.a.Password)(he()),ze=m.default.form(ge()),Ae=Object(m.default)(h.b)(be()),_e=m.default.span(fe()),ke=m.default.label(pe()),Ce=function(e){Object(b.a)(n,e);var t=Object(g.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props,t=e.isLogged,n=e.history;return o.a.createElement(h.a,null,o.a.createElement(O.d,null,o.a.createElement(O.b,{history:n,exact:!0,path:"/form-route/",isLogged:t,component:ce}),o.a.createElement(O.b,{history:n,exact:!0,path:"/form-route/login",isLogged:t,component:K}),o.a.createElement(O.b,{history:n,exact:!0,path:"/form-route/signup",component:Se})))}}]),n}(o.a.Component),Re=Object(c.b)((function(e){return{isLogged:e.authState.isLogged}}))(Ce),Be=n(52),Ne=n(267),qe=Object(Ne.a)((Ee={},Object(Be.a)(Ee,I,(function(e,t){var n=t.payload,a=n.isLogged,r=n.user;return Object(w.a)(Object(w.a)({},e),{},{isLogged:a,user:r})})),Object(Be.a)(Ee,A,(function(e,t){var n=t.payload.authorization;return Object(w.a)(Object(w.a)({},e),{},{UIState:Object(w.a)(Object(w.a)({},e.UIState),{},{authorization:n})})})),Object(Be.a)(Ee,_,(function(e,t){var n=t.payload.loading;return Object(w.a)(Object(w.a)({},e),{},{UIState:Object(w.a)(Object(w.a)({},e.UIState),{},{loading:n})})})),Ee),{isLogged:!1,UIState:{loading:!1,authorization:!0}}),Ge=Object(Ne.a)((xe={},Object(Be.a)(xe,z,(function(e,t){var n=t.payload.registration;return Object(w.a)(Object(w.a)({},e),{},{UIState:Object(w.a)(Object(w.a)({},e.UIState),{},{registration:n})})})),Object(Be.a)(xe,k,(function(e,t){var n=t.payload.loading;return Object(w.a)(Object(w.a)({},e),{},{UIState:Object(w.a)(Object(w.a)({},e.UIState),{},{loading:n})})})),xe),{UIState:{loading:!1,registration:void 0}}),De=Object(s.c)({authState:qe,regState:Ge});function Fe(){var e=Object(a.a)(["\n*{\n  box-sizing: border-box;\n}\n  body {\n    padding: 100px;\n    background-color: rgba(88,154,255,0.41);\n    font-size: 16px;\n    display:flex;\n    justify-content:center;\n  }\n"]);return Fe=function(){return e},e}var Pe=Object(m.createGlobalStyle)(Fe()),He=window.__REDUX_DEVTOOLS_EXTENSION__,Ve=He&&He(),Je=Object(s.e)(De,Object(s.d)(Object(s.a)(l.a),Ve));u.a.render(o.a.createElement(c.a,{store:Je},o.a.createElement(d.Normalize,null),o.a.createElement(Pe,null),o.a.createElement(Re,null)),document.getElementById("root"))}},[[183,1,2]]]);
//# sourceMappingURL=main.b9db043b.chunk.js.map